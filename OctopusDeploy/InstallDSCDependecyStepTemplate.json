{
  "Id": "ActionTemplates-41",
  "Name": "InstallDSCDependency",
  "Description": "Gathers PowerShell modules dependencies from configuration json files and installs the modules from a known package provider.",
  "ActionType": "Octopus.Script",
  "Version": 11,
  "CommunityActionTemplateId": null,
  "Properties": {
    "Octopus.Action.Script.Syntax": "PowerShell",
    "Octopus.Action.Script.ScriptSource": "Inline",
    "Octopus.Action.RunOnServer": "false",
    "Octopus.Action.Script.ScriptBody": "Import-Module InvokeDSC\r\n\r\nif ($Recurse)\r\n{\r\n    Write-Output \"Parsing [$Path] Recurse [true]\"\r\n\r\n    Get-DSCResourceModule -Path '#{Path}' -Recurse | ForEach-Object `\r\n    {\r\n        Write-Output \"Found module [$_]\";\r\n        Install-DSCResourceModule -Name $_\r\n    }\r\n}\r\nelse\r\n{\r\n    Write-Output \"Parsing [$Path] Recurse [false]\"\r\n\r\n    Get-DSCResourceModule -Path '#{Path}' | Foreach-Object `\r\n    {\r\n        Write-Output \"Found module [$_]\";Install-DSCResourceModule -Name $_\r\n    }\r\n}",
    "Octopus.Action.Script.ScriptFileName": null,
    "Octopus.Action.Package.FeedId": null,
    "Octopus.Action.Package.PackageId": null
  },
  "Parameters": [
    {
      "Id": "794fb11a-bb72-45c5-919e-18a666300e25",
      "Name": "Path",
      "Label": "",
      "HelpText": null,
      "DefaultValue": "",
      "DisplaySettings": {
        "Octopus.ControlType": "SingleLineText"
      },
      "Links": {}
    },
    {
      "Id": "65b9ffde-4af2-4021-afe4-887f21159d37",
      "Name": "Recurse",
      "Label": "",
      "HelpText": null,
      "DefaultValue": "",
      "DisplaySettings": {
        "Octopus.ControlType": "Checkbox"
      },
      "Links": {}
    }
  ],
  "$Meta": {
    "ExportedAt": "2017-05-03T18:29:23.017Z",
    "OctopusVersion": "3.12.8",
    "Type": "ActionTemplate"
  }
}